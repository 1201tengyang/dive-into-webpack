## 前端的发展
近年来 Web 应用变得更加复杂与庞大，Web 前端技术的应用范围也更加广泛。
从复杂庞大的管理后台到对性能苛刻的移动网页再到类似 ReactNative 的原生应用开发方案，Web 前端工程师在面临更多机遇的同时也会面临更大的挑战。
通过直接编写 JavaScript、CSS、HTML 去开发 Web 应用的方式已经无法应对当前 Web 应用的发展。近几年前端社区涌现出许多新思想与框架，下面来一一介绍它们。

### 模块化
模块化是指把一个复杂的系统分解到多个模块以方便编码。

很久以前开发网页要通过命名空间的方式来组织代码，比如 jQuery 库把它的API都放在了 `window.$` 下，在加载完 jQuery 后其它模块再通过 `window.$` 去使用 jQuery。
这样做有很多问题，其中包括：
- 命名空间冲突，两个库可能会使用同一个名称。
- 无法合理地管理项目的依赖版本。
- 无法方便地控制依赖的加载顺序。

当项目变大时这种方式将变得难以维护，需要用模块化的思想来组织代码。

#### CommonJS
[CommonJS](http://www.commonjs.org) 是一种使用广泛的 JavaScript 模块化规范，核心思想是模块通过 `require` 方法来同步加载依赖的其他模块，通过 `module.exports` 导出需要暴露的接口。
CommonJS 规范的流行得益于 Nodejs 采用了这种方式，后来这种方式被引入到了开发网页中去。
```js
const module = require('./module');
module.exports = module.someFunc;
```

CommonJS 的优点在于：
- 代码可复用于 Nodejs 环境下运行，比如说做同构应用。
- 大量通过 NPM 发布的第三方模块都采用 CommonJS 规范。

缺点在于这样的代码无法直接运行在浏览器环境里，必须通过工具转化成标准的 ES5。

#### AMD
[AMD](https://en.wikipedia.org/wiki/Asynchronous_module_definition) 也是一种 JavaScript 模块化规范，区别于 CommonJS 最大的不同在于它采用异步的方式去加载其它的模块。
AMD 规范主要是为了解决针对浏览器环境的模块化，最具代表性的实现是 [requirejs](http://requirejs.org)。
```js
define('module', ['dep'], function(dep) {
  return exports;
});
require(['module'], function(module) {
});
```

AMD 的优点在于：
- 可在不转换代码的情况下直接运行在浏览器里。
- 可异步加载依赖。
- 可并行加载多个依赖。
- 代码可运行在浏览器环境和 Nodejs 环境里。

#### ES6 模块
ES6 模块是最官方的 JavaScript 模块化规范，它在语言标准的层面上实现了模块功能。浏览器厂商和 Nodejs 都宣布要原生支持该规范。它将逐渐取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。
```js
import { readFile } from 'fs';
export function hello() {}
```
ES6模块虽然是目前最终极的模块化方案，但它的缺点在于无法直接运行在浏览器环境里，必须通过工具转化成标准的 ES5。

#### 样式文件中的模块化
除了 JavaScript 开始了模块化改造，前端开发里的样式文件也支持了模块化。
以 SASS 为例，把一些常用的样式片段放进一个通用的文件里，再在另一个文件里通过 `@import` 语句去使用这些样式片段。
```scss
// util.scss 文件
@mixin center {
  // 水平竖直居中
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
}

// main.scss 文件
@import "util";
#box{
  @include border_5;
}
```



### 新框架
在 Web 应用变得庞大复杂时，采用直接操作 DOM 的方式去完成功能将会使代码变得复杂和难以维护。
许多新思想被引入到了网页开发中减少开发难度，提升开发效率。

#### React
[React](https://facebook.github.io/react/) 框架引入 JSX 语法到 JavaScript 语言层面中，以方便更灵活的控制视图的渲染逻辑。
```jsx
render(<h1>hello,react</h1>);
```
这种语法无法直接在任何现成的 JavaScript 引擎里运行，必须要转换。

#### Vue
[Vue](https://vuejs.org) 框架可以做到把一个组件相关的 HTML 模版、JavaScript 逻辑代码、CSS 样式代码都写在一个文件里，这非常直观。
```html
<template>
  <div class="example">{{ msg }}</div>
</template>
 
<script>
export default {
  data () {
    return {
      msg: 'Hello world!'
    }
  }
}
</script>
 
<style>
.example {
  font-weight: bold;
}
</style>
```

#### Angular2
[Angular2](https://angular.io) 可以通过注解的语法描述组件的各种属性。
```typescript
@Component({
  selector: 'my-app',
  template: `<h1>{{title}}</h1>`
})
export class AppComponent {
  title = 'Tour of Heroes';
}
```



### 新语言
JavaScript 最初被设计时目标只是用来完成一些简单的工作，在用它来开发大型应用时一些语言缺陷会暴露出来。
CSS 只能用静态的语法描述元素的样式，无法像写 JavaScript 那样增加逻辑判断与共享变量。
为了解决这些问题，诞生许多新语言。

#### ES6
ECMAScript 6.0（简称 ES6）是 JavaScript 语言的下一代标准。它在语言层面为 JavaScript 引入了很多新语法和 API 使得 JavaScript 语言可以用来编写复杂的大型应用程序。例如：
- 规范模块化
- Class 语法
- 用 `let` 声明代码块内有效的变量 ，用 `const` 声明常量
- 箭头函数
- async 函数
- Set 和 Map 数据结构

通过这些新特性，可以更加高效地编写代码，专注于解决问题本身。但遗憾的是不同浏览器对这些特性的支持不一致，使用了这些特性的代码可能会在部分浏览器里无法运行。为了解决兼容性问题，需要把 ES6 代码转化成 ES5 代码，[Babel](https://babeljs.io) 是目前解决这个问题最好的工具。 
它通过插件的形式可灵活配置支持把任何新语法转化成 ES5 的写法。
想学习更多 ES6 的新特性，推荐阅读阮一峰的 [《ECMAScript 6 入门》](http://es6.ruanyifeng.com)。

#### TypeScript
[TypeScript](https://www.typescriptlang.org) 是 JavaScript 的一个超集，除了支持所有 ES6 所具有的功能外还提供了静态类型检查，由 Microsoft 开发并开源。采用 TypeScript 编写的代码可以被编译成符合 ES5、ES6 标准的 JavaScript。
把 TypeScript 用于开发大型项目时优点才能体现出来，因为大型项目有多个模块组合而成，不同模块可能又由不同人编写，在对接不同模块时静态类型检查会在编译阶段找出可能存在的问题。
TypeScript 的缺点在于语法相对于 JavaScript 更加啰嗦，而且无法直接运行在浏览器或 Nodejs 环境下。
```typescript
function hello(content: string) {
  return `Hello, ${content}`;
}
let content = 'word';
hello(content);
```

#### Flow
[Flow](https://flow.org) 也是 JavaScript 的一个超集，它主要的特点是为 JavaScript 提供静态类型检查，和 TypeScript 相似但不同在于是它更加的灵活，可以让你只在需要的地方加上类型检查。

#### SASS
[SASS](http://sass-lang.com) 可以让你用程序员的方式写 CSS。它是一种 CSS 预处理器，基本思想是和 CSS 相似的编程语言写完后再编译成正常的 CSS 文件。
```scss
$blue: #1875e7;　
div {
  color: $blue;
}
```
采用 SASS 去写 CSS 的好处在于可以方便地管理代码，抽离公共的部分，通过逻辑写出更灵活的代码。
和 SASS 类似的 CSS 预处理器还有 [LESS](http://lesscss.org) 等。

使用新语言可以提升编码效率，但是必须把源代码转化成可以直接在浏览器环境下运行的代码。

