### 模块化
模块化是指把一个复杂的系统分解到多个模块以方便编码。

很久以前开发网页要通过命名空间的方式来组织代码，比如 jQuery 库把它的API都放在了 `window.$` 下，在加载完 jQuery 后其它模块再通过 `window.$` 去使用 jQuery。
这样做有很多问题，其中包括：
- 命名空间冲突，两个库可能会使用同一个名称。
- 无法合理地管理项目的依赖版本。
- 无法方便地控制依赖的加载顺序。

当项目变大时这种方式将变得难以维护，需要用模块化的思想来组织代码。

#### CommonJS
[CommonJS](http://www.commonjs.org) 是一种使用广泛的 JavaScript 模块化规范，核心思想是模块通过 `require` 方法来同步加载依赖的其他模块，通过 `module.exports` 导出需要暴露的接口。
CommonJS 规范的流行得益于 Nodejs 采用了这种方式，后来这种方式被引入到了开发网页中去。
```js
const module = require('./module');
module.exports = module.someFunc;
```

CommonJS 的优点在于：
- 代码复用于 Nodejs 环境下运行，比如说做同构应用。
- 大量通过 NPM 发布的第三方模块都采用 CommonJS 规范。

缺点在于这样的代码无法直接运行在浏览器环境里，必须通过工具转化成标准的 ES5。

#### AMD
[AMD](https://en.wikipedia.org/wiki/Asynchronous_module_definition) 也是一种 JavaScript 模块化规范，区别于 CommonJS 最大的不同在于它采用异步的方式去加载其它的模块。
AMD 规范主要是为了解决针对浏览器环境的模块化，最具代表性的实现是 [requirejs](http://requirejs.org)。
```js
define('module', ['dep'], function(dep) {
  return exports;
});
require(['module'], function(module) {
});
```

AMD 的优点在于：
- 可在不转换代码的情况下直接运行在浏览器里。
- 可异步加载依赖。
- 可并行加载多个依赖。
- 代码可运行在浏览器环境和 Nodejs 环境里。

#### ES6 模块
ES6 模块是最官方的 JavaScript 模块化规范，它在语言标准的层面上实现了模块功能。浏览器厂商和 Nodejs 都宣布要原生支持该规范。它将逐渐取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。
```js
import { readFile } from 'fs';
export function hello() {}
```
ES6模块虽然是目前最终极的模块化方案，但它的缺点在于无法直接运行在浏览器环境里，必须通过工具转化成标准的 ES5。

#### 样式文件中的模块化
除了 JavaScript 开始了模块化改造，前端开发里的样式文件也支持了模块化。
以 SASS 为例，把一些常用的样式片段放进一个通用的文件里，再在另一个文件里通过 `@import` 语句去使用这些样式片段。
```scss
// util.scss 文件
@mixin center {
  // 水平竖直居中
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
}

// main.scss 文件
@import "util";
#box{
    @include border_5;
}
```